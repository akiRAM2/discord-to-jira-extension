# Discord to Jira Supporter

Discordのメッセージを右クリックするだけで、簡単にJiraのチケットを作れる拡張機能です。
「この発言、タスクにしておかないと忘れるな…」という時に便利です！

## ✨ できること
- **右クリックで一発作成**: Discordのメッセージを選ぶだけでチケット起票画面が開きます。
- **内容を自動コピー**: 発言内容、投稿者、日時、チャンネル名などが自動でチケットに入ります。
- **日付を自動入力**: メッセージの投稿日時を「開始日」に、そこから指定日数を足した日を「期限」として自動設定します。
- **親課題の自動選択**: 接頭辞（Prefix）を選ぶだけで、紐付いたエピック（親課題）がセットされます。
- **日本語対応**: 設定画面もわかりやすい日本語です。

## 🚀 使い方

1. **Discordでメッセージを右クリック**
   タスクにしたいメッセージの上で右クリックします。
   （テキストの上で右クリックすると確実です！）

2. **「Create Jira Ticket」を選択**
   メニューの中に「Create Jira Ticket」という項目が増えているので、それをクリックします。

3. **作成画面で確認**
   画面上に小さなウィンドウが出ます。
   - **接頭辞**: `[Discord]` `[Bug]` などを選ぶと、自動で対応するエピックが選択されます。
   - **タイトル**: 自動で入っていますが、わかりやすく書き換えることもできます。
   - **期限**: 裏側で自動計算されてJiraに送信されます。

4. **「Ticket Create」をクリック**
   ボタンを押すと、Jiraのチケットが作成され、新しいタブでそのチケットが開きます。

---

## ⚙️ 最初の設定（インストール後）

拡張機能を入れたら、最初に一度だけJiraとの連携設定が必要です。
ブラウザ右上の拡張機能アイコン🧩から「Discord to Jira Supporter」のオプション（設定）を開いてください。

### 入力が必要なもの
- **Jiraドメイン**: 普段使っているJiraのURLの `https://` と `/` の間の部分です。
    - 例: `mycompany.atlassian.net`
- **メールアドレス**: Jiraにログインしているメールアドレス。
- **APIトークン**: パスワードの代わりになる鍵です。
    - [Atlassianのセキュリティ設定](https://id.atlassian.com/manage-profile/security/api-tokens) から「APIトークンの作成」で無料で発行できます。
- **プロジェクトキー**: タスクを追加したいプロジェクトの記号（例: `DEV`, `KAN` などチケット番号の前のアルファベット）。
- **課題タイプ名**: 作成するチケットの種類です（例: `Task`, `Story`, `Bug`）。デフォルトは `Task` です。

### 便利な設定（任意）
- **親課題キー / プリセット**:
    - ここにエピックのキー（例: `PROJ-123`）を改行区切りで入力します。
- **タイトル接頭辞 / プリセット**:
    - チケット名の前につけるタグ（例: `[Discord]`, `[要望]`）を入力します。
- **接頭辞 → エピック マッピング**:
    - 上記のキーと接頭辞を入力すると、自動的に設定欄が表示されます。
    - 「このタグ(`[要望]`)を選んだら、このエピック(`PROJ-123`)に入れる」という紐付けができます。
- **期限までの日数**:
    - メッセージの日付（開始日）から何日後を期限にするかを設定できます。（デフォルト: 2日後）
- **説明文テンプレート**:
    - JIRAチケットの本文をMarkdown形式で自由にカスタマイズできます。
    - 以下の変数が使えます：
        - `{author}`: Discordの発言者
        - `{content}`: メッセージ本文
        - `{time}`: 発言日時
        - `{channel}`: チャンネル名
        - `{server}`: サーバー名
        - `{link}`: メッセージへのリンク

## 📥 インストール方法（開発者向け）
1. 右上の「Code」ボタンから「Download ZIP」を選んでダウンロード・解凍します。
2. Chromeブラウザで `chrome://extensions/` を開きます。
3. 右上の「デベロッパーモード」をONにします。
4. 「パッケージ化されていない拡張機能を読み込む」をクリックし、解凍したフォルダを選べば完了です！


## ⚠️ 免責事項
この拡張機能のコードの一部は、生成AIの支援を受けて開発されています。
予期せぬ挙動が含まれる可能性がありますので、ご利用の際はご注意ください。

## ライセンス
[MIT License](LICENSE)

